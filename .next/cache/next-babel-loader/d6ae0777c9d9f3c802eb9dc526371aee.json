{"ast":null,"code":"var __jsx = React.createElement;\nimport React from 'react';\nimport styles from './styles.scss';\n\nclass SelectZone extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedZone: this.zones[0],\n      active: false,\n      initialZones: [],\n      zones: [],\n      inputValue: ''\n    };\n  }\n\n  async componentDidMount() {\n    const getZones = await fetch('http://localhost:3000/api/zones');\n    const getZonesJson = await getZones.json();\n    this.setState({\n      selectedZone: getZonesJson.length > 0 ? getZonesJson[0].name : '',\n      zones: getZonesJson,\n      initialZones: getZonesJson\n    });\n  }\n\n  handleClick() {\n    const currentState = this.state.active;\n    this.setState({\n      active: !currentState\n    });\n  }\n\n  handleChange(position) {\n    this.setState({\n      selectedZone: this.state.zones[position].name,\n      active: false,\n      inputValue: \"\",\n      zones: this.state.initialZones\n    });\n  }\n\n  filterZones(e) {\n    const value = e.target.value;\n    const result = this.state.zones.filter(z => z.toLowerCase().indexOf(value.toLowerCase()) > -1);\n    this.setState({\n      inputValue: value,\n      zones: result\n    });\n  }\n\n  render() {\n    const {\n      selectedZone,\n      active,\n      zones,\n      inputValue\n    } = this.state;\n    return __jsx(\"div\", {\n      className: styles.selectedZoneContainer\n    }, __jsx(\"div\", {\n      className: styles.selectedZone,\n      onClick: () => this.handleClick()\n    }, __jsx(\"span\", null, selectedZone)), __jsx(\"div\", {\n      className: active ? `${styles.listContainer} ${styles.visible}` : styles.listContainer\n    }, __jsx(\"input\", {\n      type: \"text\",\n      placeholder: \"buscar ciudad\",\n      onChange: e => this.filterZones(e),\n      value: inputValue\n    }), __jsx(\"ul\", null, zones.map((zone, index) => {\n      return __jsx(\"li\", {\n        key: index,\n        onClick: () => this.handleChange(index)\n      }, zone.name);\n    }))));\n  }\n\n}\n\n;\nexport default SelectZone;","map":{"version":3,"sources":["/Users/chia/Desktop/pedidos-ya/components/SelectZone/index.js"],"names":["React","styles","SelectZone","Component","constructor","props","state","selectedZone","zones","active","initialZones","inputValue","componentDidMount","getZones","fetch","getZonesJson","json","setState","length","name","handleClick","currentState","handleChange","position","filterZones","e","value","target","result","filter","z","toLowerCase","indexOf","render","selectedZoneContainer","listContainer","visible","map","zone","index"],"mappings":"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","sourcesContent":["import React from 'react';\nimport styles from './styles.scss';\n\n\nclass SelectZone extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedZone: this.zones[0],\n      active: false,\n      initialZones:[],\n      zones: [],\n      inputValue: '',\n    };\n  }\n\n  async componentDidMount() {\n    const getZones = await fetch('http://localhost:3000/api/zones');\n    const getZonesJson = await getZones.json();\n\n    this.setState({\n      selectedZone: getZonesJson.length > 0 ? getZonesJson[0].name : '',\n      zones: getZonesJson,\n      initialZones: getZonesJson,\n    })\n  }\n\n  handleClick() {\n    const currentState = this.state.active;\n    this.setState({\n      active: !currentState,\n    });\n  }\n\n  handleChange(position) {\n    this.setState({\n      selectedZone: this.state.zones[position].name,\n      active: false,\n      inputValue: \"\",\n      zones: this.state.initialZones,\n    })\n  }\n\n  filterZones (e) {\n    const value = e.target.value;\n    const  result = this.state.zones.filter(z => z.toLowerCase().indexOf(value.toLowerCase()) > -1);\n    this.setState({\n      inputValue: value,\n      zones: result,\n    }) \n  }\n\n  render() {\n    const { selectedZone, active, zones, inputValue } = this.state\n    return (\n      <div className={styles.selectedZoneContainer}>\n        <div className={styles.selectedZone} onClick={() => this.handleClick()}>\n          <span>{selectedZone}</span>\n        </div>\n        <div className={\n          active\n            ? `${styles.listContainer} ${styles.visible}`\n            : styles.listContainer\n        }\n        >\n          <input \n          type=\"text\" \n          placeholder=\"buscar ciudad\" \n          onChange={(e)=> this.filterZones(e)}\n          value={inputValue}\n          />\n          <ul>\n            {zones.map((zone, index) => {\n              return (\n                <li key={index} onClick={() => this.handleChange(index)}>{zone.name}</li>\n              )\n            })}\n          </ul>\n        </div>\n      </div>\n    )\n  }\n};\n\nexport default SelectZone;"]},"metadata":{},"sourceType":"module"}