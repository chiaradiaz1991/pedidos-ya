{"version":3,"file":"static/webpack/static/development/pages/home.js.a710e73236aa9d79e3b0.hot-update.js","sources":["webpack:///./components/SelectZone/index.js"],"sourcesContent":["import React from 'react';\nimport styles from './styles.scss';\n\n\nclass SelectZone extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedZone: \"\",\n      active: false,\n      initialZones:[],\n      zones: [],\n      inputValue: '',\n    };\n  }\n\n  async componentDidMount() {\n    const getZones = await fetch('http://localhost:3000/api/zones');\n    const getZonesJson = await getZones.json();\n\n    this.setState({\n      selectedZone: getZonesJson.length > 0 ? getZonesJson[0].name : '',\n      zones: getZonesJson,\n      initialZones: getZonesJson,\n    })\n  }\n\n  handleClick() {\n    const currentState = this.state.active;\n    this.setState({\n      active: !currentState,\n    });\n  }\n\n  handleChange(position) {\n    this.setState({\n      selectedZone: this.state.zones[position].name,\n      active: false,\n      inputValue: \"\",\n      zones: this.state.initialZones,\n    })\n  }\n\n  filterZones (e) {\n    const value = e.target.value;\n    const  result = this.state.initialZones.filter(z => z.toLowerCase().indexOf(value.toLowerCase()) > -1);\n    this.setState({\n      inputValue: value,\n      zones: result,\n    }) \n  }\n\n  render() {\n    const { selectedZone, active, zones, inputValue } = this.state\n    return (\n      <div className={styles.selectedZoneContainer}>\n        <div className={styles.selectedZone} onClick={() => this.handleClick()}>\n          <span>{selectedZone}</span>\n        </div>\n        <div className={\n          active\n            ? `${styles.listContainer} ${styles.visible}`\n            : styles.listContainer\n        }\n        >\n          <input \n          type=\"text\" \n          placeholder=\"buscar ciudad\" \n          onChange={(e)=> this.filterZones(e)}\n          value={inputValue}\n          />\n          <ul>\n            {zones.map((zone, index) => {\n              return (\n                <li key={index} onClick={() => this.handleChange(index)}>{zone.name}</li>\n              )\n            })}\n          </ul>\n        </div>\n      </div>\n    )\n  }\n};\n\nexport default SelectZone;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAFA;AASA;AACA;;;;;;;;;;;AAEA;AACA;;AADA;;AACA;AACA;;AADA;AAEA;AACA;AACA;AACA;AAHA;AACA;;;;;;;;;;;;;;;;;AAMA;AACA;AACA;AACA;AADA;AAGA;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;;;AAEA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAFA;AAIA;;;AAEA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAOA;AACA;AACA;AAAA;AAAA;AACA;AAJA;AAQA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAKA;;;;AA7EA;AACA;AA6EA;AAEA;;;;A","sourceRoot":""}